language: ruby
rvm:
  - ruby-1.8.7-p371
  - ruby-1.9.3-p547
  - ruby-2.0.0-p648
  - ruby-2.1.10
  - ruby-2.2.5
  - ruby-2.3.1
  - ruby-head
install:
  - gem install benchmark-ips || echo skipping benchmark-ips
  - gem install parser || echo skipping parser
  - gem install unparser || echo skipping unparser
env:
  - BACKEND=simple
  - BACKEND=bm
  - BACKEND=bmbm
  - BACKEND=bips
script: tests/tests.rb --$BACKEND
